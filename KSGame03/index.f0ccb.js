window.__require=function t(e,o,i){function r(l,s){if(!o[l]){if(!e[l]){var c=l.split("/");if(c=c[c.length-1],!e[c]){var a="function"==typeof __require&&__require;if(!s&&a)return a(c,!0);if(n)return n(c,!0);throw new Error("Cannot find module '"+l+"'")}l=c}var u=o[l]={exports:{}};e[l][0].call(u.exports,function(t){return r(e[l][1][t]||t)},u,u.exports,t,e,o,i)}return o[l].exports}for(var n="function"==typeof __require&&__require,l=0;l<i.length;l++)r(i[l]);return r}({KSGame03:[function(t,e,o){"use strict";cc._RF.push(e,"bed083koDVN+LC6ryyB9j05","KSGame03");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,l=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(l=(n<3?r(l):n>3?r(e,o,l):r(e,o))||l);return n>3&&l&&Object.defineProperty(e,o,l),l},l=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(r,n){function l(t){try{c(i.next(t))}catch(e){n(e)}}function s(t){try{c(i.throw(t))}catch(e){n(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(l,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,r,n,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(t){return function(e){return c([t,e])}}function c(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,i&&(r=2&n[0]?i.return:n[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,n[1])).done)return r;switch(i=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,i=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){l.label=n[1];break}if(6===n[0]&&l.label<r[1]){l.label=r[1],r=n;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(n);break}r[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(s){n=[6,s],i=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.music=[],e.right=null,e.title00=null,e.title01=null,e.title1=null,e.title20=null,e.title21=null,e.label=null,e.importlabel=null,e.labelTips=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.schedule(function(){return cc.audioEngine.play(t.music[1],!1,1)},5*Math.random()+5)},e.prototype.start=function(){this.resData=window.KS.GetInfo(),this.currentData=this.resData.res[0],console.log(this.resData),this.label.string="\u4f20\u5165\u6570\u636e\uff1a"+JSON.stringify(this.resData.res[0].formula),this.updateTileShow()},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.inputImpot=function(t){console.log(t.target._name);var e=t.target._name;""===this.title00.string||this.title00===this.nullTitle?(this.title00.string=this.title00.string+e,this.nullTitle=this.title00,console.log(this.title00.string)):""!==this.title1.string&&this.title1!==this.nullTitle||(this.title1.string=this.title1.string+e,this.nullTitle=this.title1)},e.prototype.comfirm=function(){return l(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.nullTitle.string!=this.currentData.result?[3,2]:(this.setRight(),cc.log("ok"),this.labelTips.string="\u771f\u68d2\uff01\u4f60\u771f\u5389\u5bb3\uff01",this.labelTips.node.opacity=255,[4,window.KS.KSPlaySound(Math.random()>.5?1:2)]);case 1:return t.sent(),this.nextRound(),[3,4];case 2:return this.labelTips.string="\u4e0d\u5bf9\u54e6\uff01\u518d\u627e\u627e\u5427\uff01",this.labelTips.node.opacity=255,cc.log("not ok"),[4,window.KS.KSPlaySound(Math.random()>.5?3:4)];case 3:t.sent(),this.cancel(),t.label=4;case 4:return[2]}})})},e.prototype.cancel=function(){this.nullTitle.string=""},e.prototype.nextRound=function(){return l(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return this.resData.res=this.resData.res.filter(function(e){return e!=t.currentData}),this.currentData=this.randomArray(this.resData.res),console.log(this.resData.res),0!=this.resData.res.length?[3,2]:(this.label.string="\u7ed3\u675f\u4e86",[4,this.wait(3)]);case 1:return e.sent(),this.close(),[3,3];case 2:this.label.string="\u4f20\u5165\u6570\u636e\uff1a"+JSON.stringify(this.currentData),this.updateTileShow(),e.label=3;case 3:return this.right.setPosition(200,20),[2]}})})},e.prototype.close=function(){this.node.destroy(),window.KS.Close()},e.prototype.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},e.prototype.wait=function(t){return l(this,void 0,void 0,function(){return s(this,function(){return[2,new Promise(function(e){setTimeout(function(){e()},1e3*t)})]})})},e.prototype.update=function(t){this.labelTips.node.opacity-=100*t,this.labelTips.node.opacity<0&&(this.labelTips.node.opacity=0)},e.prototype.catchNum=function(t){var e=t.match(/[^+=]+/g);return e?{a1:e[0],a2:e[1],a3:e[2]}:null},e.prototype.updateTileShow=function(){var t=this.catchNum(JSON.stringify(this.currentData.formula).slice(1,-1));console.log("parsedFormula.a1: "+t.a1[0]),this.title00.string="__"===t.a1?"":t.a1[0],this.title01.string="__"===t.a1?"":t.a1[1],this.title1.string="__"===t.a2?"":t.a2,this.title20.string="__"===t.a3?"":t.a3[0],this.title21.string="__"===t.a3?"":t.a3[1]},e.prototype.setRight=function(){var t=this;cc.tween(this.right).to(.5,{position:cc.v3(this.right.x-80,this.right.y)},{easing:"sineInOut"}).call(function(){cc.audioEngine.play(t.music[0],!1,4)}).start()},n([u([cc.AudioClip])],e.prototype,"music",void 0),n([u(cc.Node)],e.prototype,"right",void 0),n([u(cc.Label)],e.prototype,"title00",void 0),n([u(cc.Label)],e.prototype,"title01",void 0),n([u(cc.Label)],e.prototype,"title1",void 0),n([u(cc.Label)],e.prototype,"title20",void 0),n([u(cc.Label)],e.prototype,"title21",void 0),n([u(cc.Label)],e.prototype,"label",void 0),n([u(cc.Label)],e.prototype,"importlabel",void 0),n([u(cc.Label)],e.prototype,"labelTips",void 0),n([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],WaterFlow:[function(t,e,o){"use strict";cc._RF.push(e,"1b5b9JjuS9FP6OV3kZubEqb","WaterFlow");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,l=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(l=(n<3?r(l):n>3?r(e,o,l):r(e,o))||l);return n>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,s=l.ccclass,c=l.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waterFlow1=null,e.waterFlow2=null,e.scrollSpeed=100,e}return r(e,t),e.prototype.start=function(){this.schedule(this.scrollBackground,.01)},e.prototype.scrollBackground=function(){var t=this.waterFlow1.position,e=this.waterFlow2.position,o=t.x-this.scrollSpeed*cc.director.getDeltaTime(),i=e.x-this.scrollSpeed*cc.director.getDeltaTime();o<-this.waterFlow1.width/2&&(o+=2*this.waterFlow1.width),i<-this.waterFlow2.width/2&&(i+=2*this.waterFlow2.width),this.waterFlow1.setPosition(o,t.y),this.waterFlow2.setPosition(i,e.y)},n([c(cc.Node)],e.prototype,"waterFlow1",void 0),n([c(cc.Node)],e.prototype,"waterFlow2",void 0),n([c(cc.Float)],e.prototype,"scrollSpeed",void 0),n([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["KSGame03","WaterFlow"]);
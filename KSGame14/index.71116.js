window.__require=function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({KSGame14:[function(t,e,n){"use strict";cc._RF.push(e,"2b78fSNMVlIyahUBUo/AUdL","KSGame14");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.music=[],e.title0=null,e.title1=null,e.title2=null,e.answer1=null,e.answer2=null,e.answer1bg=null,e.answer2bg=null,e.crab0=null,e.crab1=null,e.crab2=null,e.labelTips=null,e.NumofAns=0,e.pass1=!1,e.pass2=!1,e.lastInteractionTime=0,e}return o(e,t),e.prototype.onLoad=function(){this.lastInteractionTime=Date.now()},e.prototype.start=function(){this.RandomNumbers()},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.checkUserTimeout=function(){var t=Date.now();t-this.lastInteractionTime>1e4&&(console.log("\u5341\u79d2\u672a\u64cd\u4f5c\u8bed\u97f3"),this.lastInteractionTime=t)},e.prototype.inputImpot=function(t){this.lastInteractionTime=Date.now();var e=t.target._name;cc.audioEngine.play(this.music[0],!1,1),""===this.answer1.string?(this.answer1.string=e,this.answer1bg.active=!0,this.comfirm(e,1)):""===this.answer2.string&&(this.answer2.string=e,this.answer2bg.active=!0,this.comfirm(e,2))},e.prototype.comfirm=function(t,e){return s(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,new Promise(function(t){return setTimeout(t,1e3)})];case 1:return n.sent(),1!==e?[3,2]:("="===t?this.number0===this.number1?(this.istrue(1),this.pass1=!0,this.nextRound()):this.cancel(1):">"===t?this.number0>this.number1?(this.istrue(1),this.pass1=!0,this.nextRound()):this.cancel(1):"<"===t&&(this.number0<this.number1?(this.istrue(1),this.pass1=!0,this.nextRound()):this.cancel(1)),[3,5]);case 2:return 2!==e?[3,3]:("="===t?this.number1===this.number2?(this.istrue(2),this.pass2=!0,this.nextRound()):this.cancel(2):">"===t?this.number1>this.number2?(this.pass2=!0,this.istrue(2),this.nextRound()):this.cancel(2):"<"===t&&(this.number1<this.number2?(this.istrue(2),this.pass2=!0,this.nextRound()):this.cancel(2)),[3,5]);case 3:return this.labelTips.string="\u4e0d\u5bf9\u54e6\uff01\u518d\u627e\u627e\u5427\uff01",this.labelTips.node.opacity=255,this.NumofAns=0,cc.log("not ok"),[4,window.KS.KSPlaySound(Math.random()>.5?3:4)];case 4:n.sent(),this.cancel(3),n.label=5;case 5:return console.log("NumofAns:  "+this.NumofAns),[2]}})})},e.prototype.cancel=function(t){console.log("cancel run"),1===t?(this.answer1.string="",this.answer1bg.active=!1):2===t?(this.answer2.string="",this.answer2bg.active=!1):3===t&&(this.answer1.string="",this.answer2.string="",this.answer1bg.active=!1,this.answer2bg.active=!1),this.NumofAns=0},e.prototype.nextRound=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.pass1&&this.pass2?[4,this.wait(2.5)]:[3,4];case 1:return t.sent(),console.log("next2"),10!==this.NumofAns?[3,3]:[4,this.wait(3)];case 2:return t.sent(),this.close(),[3,4];case 3:this.updateTileShow(),t.label=4;case 4:return[2]}})})},e.prototype.close=function(){this.node.destroy(),window.KS.Close()},e.prototype.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},e.prototype.wait=function(t){return s(this,void 0,void 0,function(){return a(this,function(){return[2,new Promise(function(e){setTimeout(function(){e()},1e3*t)})]})})},e.prototype.update=function(t){this.labelTips.node.opacity-=100*t,this.labelTips.node.opacity<0&&(this.labelTips.node.opacity=0),this.checkUserTimeout()},e.prototype.catchNum=function(t){var e=t.match(/[^\xd7=]+/g);return e?{a1:e[0],a2:e[1],a3:e[2],a4:e[3]}:null},e.prototype.updateTileShow=function(){this.RandomNumbers(),this.pass1=!1,this.pass2=!1,this.answer1.string="",this.answer2.string="",this.crab0.getComponent(sp.Skeleton).animation="crab_idle",this.crab2.getComponent(sp.Skeleton).animation="crab_idle",this.crab0.setPosition(this.crab0.x+600,this.crab0.y),this.crab2.setPosition(this.crab2.x-600,this.crab2.y),console.log(this.crab2),this.answer1bg.parent.active=!0,this.answer2bg.parent.active=!0},e.prototype.RandomNumbers=function(){for(var t=[],e=0;e<3;e++){var n=Math.floor(9*Math.random())+1;t.push(n)}t[0]===t[1]&&t[1]===t[2]&&(t[2]=t[2]%9+1),this.title0.string=t[0],this.title1.string=t[1],this.title2.string=t[2],this.number0=parseInt(this.title0.string),this.number1=parseInt(this.title1.string),this.number2=parseInt(this.title2.string)},e.prototype.istrue=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:cc.log("ok"),this.NumofAns++,console.log("\u8fde\u5bf9\u6b21\u6570"+this.NumofAns),this.labelTips.string="\u771f\u68d2\uff01\u4f60\u771f\u5389\u5bb3\uff01",this.labelTips.node.opacity=255,this.NumofAns++,e=new Promise(function(t,e){window.KS.KSPlaySound(Math.random()>.5?1:2,function(n){"success"===n?t():e(new Error("Sound playback failed"))})}),this.movecrab(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),console.error(n),[3,4];case 4:return[2]}})})},e.prototype.movecrab=function(t){var e=this;return new Promise(function(n){1===t?(e.crab0.getComponent(sp.Skeleton).animation="crab_walk",e.answer1bg.parent.active=!1,cc.audioEngine.play(e.music[1],!1,1),cc.tween(e.crab0).to(2,{position:cc.v3(e.crab0.x-600,e.crab0.y)},{easing:"sineInOut"}).call(function(){n()}).start()):2===t&&(e.crab2.getComponent(sp.Skeleton).animation="crab_walk",e.answer2bg.parent.active=!1,cc.audioEngine.play(e.music[1],!1,1),cc.tween(e.crab2).to(2,{position:cc.v3(e.crab2.x+600,e.crab2.y)},{easing:"sineInOut"}).call(function(){n()}).start())})},r([l([cc.AudioClip])],e.prototype,"music",void 0),r([l(cc.Label)],e.prototype,"title0",void 0),r([l(cc.Label)],e.prototype,"title1",void 0),r([l(cc.Label)],e.prototype,"title2",void 0),r([l(cc.Label)],e.prototype,"answer1",void 0),r([l(cc.Label)],e.prototype,"answer2",void 0),r([l(cc.Node)],e.prototype,"answer1bg",void 0),r([l(cc.Node)],e.prototype,"answer2bg",void 0),r([l(cc.Node)],e.prototype,"crab0",void 0),r([l(cc.Node)],e.prototype,"crab1",void 0),r([l(cc.Node)],e.prototype,"crab2",void 0),r([l(cc.Label)],e.prototype,"labelTips",void 0),r([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],LeafSwing:[function(t,e,n){"use strict";cc._RF.push(e,"368cdD+fGhAJ7NNS9NrTpfa","LeafSwing");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.swingSpeed=.5,e.swingAmplitude=20,e}return o(e,t),e.prototype.onLoad=function(){this.originalY=this.node.y,this.swingLeaf()},e.prototype.swingLeaf=function(){var t=this,e=.001*(new Date).getTime()*this.swingSpeed,n=Math.sin(e)*this.swingAmplitude;cc.tween(this.node).to(2,{y:this.originalY+n},{easing:"sineInOut"}).to(2,{y:this.originalY-n},{easing:"sineInOut"}).call(function(){t.swingLeaf()}).start()},r([c(cc.Float)],e.prototype,"swingSpeed",void 0),r([c(cc.Float)],e.prototype,"swingAmplitude",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}]},{},["KSGame14","LeafSwing"]);
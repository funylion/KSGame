window.__require=function t(e,n,o){function i(c,a){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({KSGmae04:[function(t,e,n){"use strict";cc._RF.push(e,"de6c7C9XwNCybOumr20EPMO","KSGmae04");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.music=[],e.title00=null,e.title01=null,e.title1=null,e.title20=null,e.title21=null,e.label=null,e.importlabel=null,e.labelTips=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.resData=window.KS.GetInfo(),this.currentData=this.resData.res[0],console.log(this.resData),this.label.string="\u4f20\u5165\u6570\u636e\uff1a"+JSON.stringify(this.resData.res[0].formula),this.updateTileShow()},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.inputImpot=function(t){var e=t.target._name;""===this.title00.string||this.title00===this.nullTitle?(this.title00.string=this.title00.string+e,this.nullTitle=this.title00,console.log(this.title00.string)):""!==this.title1.string&&this.title1!==this.nullTitle||(this.title1.string=this.title1.string+e,this.nullTitle=this.title1)},e.prototype.comfirm=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.nullTitle.string!=this.currentData.result?[3,2]:(cc.audioEngine.play(this.music[0],!1,1),[4,window.KS.KSPlaySound(Math.random()>.5?1:2)]);case 1:return t.sent(),this.nextRound(),[3,4];case 2:return this.labelTips.string="\u4e0d\u5bf9\u54e6\uff01\u518d\u627e\u627e\u5427\uff01",this.labelTips.node.opacity=255,cc.log("not ok"),[4,window.KS.KSPlaySound(Math.random()>.5?3:4)];case 3:t.sent(),this.cancel(),t.label=4;case 4:return[2]}})})},e.prototype.cancel=function(){this.nullTitle.string=""},e.prototype.nextRound=function(){return c(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return this.resData.res=this.resData.res.filter(function(e){return e!=t.currentData}),this.currentData=this.randomArray(this.resData.res),console.log(this.resData.res),0!=this.resData.res.length?[3,2]:(this.label.string="\u7ed3\u675f\u4e86",[4,this.wait(3)]);case 1:return e.sent(),this.close(),[3,3];case 2:this.label.string="\u4f20\u5165\u6570\u636e\uff1a"+JSON.stringify(this.currentData),this.updateTileShow(),e.label=3;case 3:return[2]}})})},e.prototype.close=function(){this.node.destroy(),window.KS.Close()},e.prototype.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},e.prototype.wait=function(t){return c(this,void 0,void 0,function(){return a(this,function(){return[2,new Promise(function(e){setTimeout(function(){e()},1e3*t)})]})})},e.prototype.update=function(t){this.labelTips.node.opacity-=100*t,this.labelTips.node.opacity<0&&(this.labelTips.node.opacity=0)},e.prototype.catchNum=function(t){var e=t.match(/[^+=]+/g);return e?{a1:e[0],a2:e[1],a3:e[2]}:null},e.prototype.updateTileShow=function(){var t=this.catchNum(JSON.stringify(this.currentData.formula).slice(1,-1));console.log("parsedFormula.a1: "+t.a1[0]),this.title00.string="__"===t.a1?"":t.a1[0],this.title01.string="__"===t.a1?"":t.a1[1],this.title1.string="__"===t.a2?"":t.a2,this.title20.string="__"===t.a3?"":t.a3[0],this.title21.string="__"===t.a3?"":t.a3[1]},r([u([cc.AudioClip])],e.prototype,"music",void 0),r([u(cc.Label)],e.prototype,"title00",void 0),r([u(cc.Label)],e.prototype,"title01",void 0),r([u(cc.Label)],e.prototype,"title1",void 0),r([u(cc.Label)],e.prototype,"title20",void 0),r([u(cc.Label)],e.prototype,"title21",void 0),r([u(cc.Label)],e.prototype,"label",void 0),r([u(cc.Label)],e.prototype,"importlabel",void 0),r([u(cc.Label)],e.prototype,"labelTips",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],SwingAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"841b8S3vVpHC7ZWp7XXH6jd","SwingAnimation");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],SwingLeaf:[function(t,e,n){"use strict";cc._RF.push(e,"a2e15kmiGlPVqLOoyE9mj8i","SwingLeaf");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.swingSpeed=.5,e.swingAmplitude=20,e}return i(e,t),e.prototype.onLoad=function(){this.originalY=this.node.y,this.swingLeaf()},e.prototype.swingLeaf=function(){var t=this,e=.001*(new Date).getTime()*this.swingSpeed,n=Math.sin(e)*this.swingAmplitude;cc.tween(this.node).to(2,{y:this.originalY+n},{easing:"sineInOut"}).to(2,{y:this.originalY-n},{easing:"sineInOut"}).call(function(){t.swingLeaf()}).start()},r([s(cc.Float)],e.prototype,"swingSpeed",void 0),r([s(cc.Float)],e.prototype,"swingAmplitude",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}]},{},["KSGmae04","SwingAnimation","SwingLeaf"]);
window.__require=function t(e,o,n){function r(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({Conveyor:[function(t,e,o){"use strict";cc._RF.push(e,"ea6b0j5htBKL7bSEdkvLuBb","Conveyor");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waterFlow1=null,e.waterFlow2=null,e.scrollSpeed=100,e}return r(e,t),e.prototype.start=function(){this.schedule(this.scrollBackground,.01)},e.prototype.scrollBackground=function(){var t=this.waterFlow1.position,e=this.waterFlow2.position,o=t.x-this.scrollSpeed*cc.director.getDeltaTime(),n=e.x-this.scrollSpeed*cc.director.getDeltaTime();o<-this.waterFlow1.width&&(o+=2*this.waterFlow1.width),n<-this.waterFlow2.width&&(n+=2*this.waterFlow2.width),this.waterFlow1.setPosition(o,t.y),this.waterFlow2.setPosition(n,e.y)},i([s(cc.Node)],e.prototype,"waterFlow1",void 0),i([s(cc.Node)],e.prototype,"waterFlow2",void 0),i([s(cc.Float)],e.prototype,"scrollSpeed",void 0),i([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ImageChanger:[function(t,e,o){"use strict";cc._RF.push(e,"67c848aY+5EcYHfn5/zpkLI","ImageChanger");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageArray=[],e}return r(e,t),e.prototype.changeAllImagesByIndex=function(t){for(var e=this.node.children,o=0;o<e.length;o++){var n=e[o].getComponent(cc.Sprite);n&&t<this.imageArray.length&&(n.spriteFrame=this.imageArray[t])}},i([s([cc.SpriteFrame])],e.prototype,"imageArray",void 0),i([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],KSGame15:[function(t,e,o){"use strict";cc._RF.push(e,"46092jWYUNEP6QaZ20AdFqo","KSGame15");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function c(t){try{s(n.next(t))}catch(e){i(e)}}function a(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./StarGenerator"),u=t("./star"),l=cc._decorator,p=l.ccclass,f=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.music=[],e.title0=null,e.title1=null,e.title2=null,e.answer0=null,e.answer1=null,e.answer2=null,e.NumofAns=0,e.lastInteractionTime=0,e}return r(e,t),e.prototype.onLoad=function(){this.lastInteractionTime=Date.now()},e.prototype.start=function(){this.updateTileShow()},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.checkUserTimeout=function(){var t=Date.now();t-this.lastInteractionTime>1e4&&(console.log("\u5341\u79d2\u672a\u64cd\u4f5c\u8bed\u97f3"),this.lastInteractionTime=t)},e.prototype.inputImpot=function(t){this.lastInteractionTime=Date.now();var e,o=t.target._name;"ansnumber0"===o&&(e=this.ansnumber0),"ansnumber1"===o&&(e=this.ansnumber1),"ansnumber2"===o&&(e=this.ansnumber2),this.title1.getComponent(u.default).instantiateAndChangeImages(e,this.color1),cc.audioEngine.play(this.music[1],!1,1),this.title1.active=!0,this.comfirm(e)},e.prototype.comfirm=function(t){return c(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,1e3)})];case 1:return e.sent(),t===this.titlenum1?(console.log("\u7b54\u5bf9\u4e86"),cc.audioEngine.play(this.music[0],!1,1),this.NumofAns++,this.nextRound(),this.cancel()):(this.NumofAns=0,cc.audioEngine.play(this.music[2],!1,2),this.cancel()),console.log("NumofAns:  "+this.NumofAns),[2]}})})},e.prototype.cancel=function(){this.NumofAns=0,this.title1.active=!1,this.title1.getComponent(u.default).remove()},e.prototype.nextRound=function(){return c(this,void 0,void 0,function(){return a(this,function(){return this.closeTitle(),this.updateTileShow(),[2]})})},e.prototype.close=function(){this.node.destroy(),window.KS.Close(this.NumofAns)},e.prototype.wait=function(t){return c(this,void 0,void 0,function(){return a(this,function(){return[2,new Promise(function(e){setTimeout(function(){e()},1e3*t)})]})})},e.prototype.update=function(){this.checkUserTimeout()},e.prototype.updateTileShow=function(){this.RandomTitleNumbers(),this.RandomColorNumbers(),this.RandomAnsNumbers(this.titlenum1),this.title0.getComponent(u.default).instantiateAndChangeImages(this.titlenum0,this.color0),this.title2.getComponent(s.default).generateStars(this.titlenum0+this.titlenum1,this.color2),this.answer0.getComponent(s.default).generateStars(this.ansnumber0,this.color1),this.answer1.getComponent(s.default).generateStars(this.ansnumber1,this.color1),this.answer2.getComponent(s.default).generateStars(this.ansnumber2,this.color1)},e.prototype.closeTitle=function(){this.title0.getComponent(u.default).remove(),this.title1.getComponent(u.default).remove(),this.title2.getComponent(s.default).remove(),this.answer0.getComponent(s.default).remove(),this.answer1.getComponent(s.default).remove(),this.answer2.getComponent(s.default).remove()},e.prototype.RandomTitleNumbers=function(){for(var t=[],e=0;e<2;e++){var o=void 0;do{o=Math.floor(5*Math.random())+1}while(5===o||t.includes(o));t.push(o)}this.titlenum0=t[0],this.titlenum1=t[1]},e.prototype.RandomColorNumbers=function(){for(var t,e=[0,1,2],o=e.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1));t=[e[n],e[o]],e[o]=t[0],e[n]=t[1]}this.color0=e[0],this.color1=e[1],this.color2=e[2]},e.prototype.RandomAnsNumbers=function(t){for(var e,o=[t],n=0;n<2;n++){var r=void 0;do{r=Math.floor(5*Math.random())+1}while(r===t||o.includes(r));o.push(r)}for(n=o.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1));e=[o[i],o[n]],o[n]=e[0],o[i]=e[1]}this.ansnumber0=o[0],this.ansnumber1=o[1],this.ansnumber2=o[2]},e.prototype.istrue=function(){return c(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:cc.log("ok"),this.NumofAns++,console.log("\u8fde\u5bf9\u6b21\u6570"+this.NumofAns),this.NumofAns++,t=new Promise(function(t,e){window.KS.KSPlaySound(Math.random()>.5?1:2,function(o){"success"===o?t():e(new Error("Sound playback failed"))})}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t];case 2:return o.sent(),[3,4];case 3:return e=o.sent(),console.error(e),[3,4];case 4:return[2]}})})},i([f([cc.AudioClip])],e.prototype,"music",void 0),i([f(cc.Node)],e.prototype,"title0",void 0),i([f(cc.Node)],e.prototype,"title1",void 0),i([f(cc.Node)],e.prototype,"title2",void 0),i([f(cc.Node)],e.prototype,"answer0",void 0),i([f(cc.Node)],e.prototype,"answer1",void 0),i([f(cc.Node)],e.prototype,"answer2",void 0),i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./StarGenerator":"StarGenerator","./star":"star"}],StarGenerator:[function(t,e,o){"use strict";cc._RF.push(e,"6cdd64bqIJPm5bUtv1dBrGY","StarGenerator");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageArray=[],e}return r(e,t),e.prototype.start=function(){},e.prototype.generateStars=function(t,e){if(e>=0&&e<this.imageArray.length)for(var o=0;o<t;o++){var n=new cc.Node("Star");n.addComponent(cc.Sprite).spriteFrame=this.imageArray[e],this.node.addChild(n)}},e.prototype.remove=function(){this.node.removeAllChildren()},i([s([cc.SpriteFrame])],e.prototype,"imageArray",void 0),i([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],star:[function(t,e,o){"use strict";cc._RF.push(e,"dc3a79uTJJGsqlmmUDCnK/z","star");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./ImageChanger"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myPrefabs=[],e.parentNode=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.instantiateAndChangeImages=function(t,e){if(this.myPrefabs&&this.parentNode){var o=cc.instantiate(this.myPrefabs[t-1]);this.parentNode.addChild(o);var n=o.getComponent(c.default);n&&n.changeAllImagesByIndex(e)}},e.prototype.remove=function(){this.node.removeAllChildren()},i([u([cc.Prefab])],e.prototype,"myPrefabs",void 0),i([u(cc.Node)],e.prototype,"parentNode",void 0),i([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./ImageChanger":"ImageChanger"}]},{},["Conveyor","ImageChanger","KSGame15","StarGenerator","star"]);